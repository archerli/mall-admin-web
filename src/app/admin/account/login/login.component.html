<div [ngClass]="'login'">
  <mat-card [ngClass]="'form-card'">
    <mat-card-title [ngClass]="'header-title'">
      登 录
    </mat-card-title>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <mat-card-content [ngClass]="'form-item'">
        <mat-form-field>
          <input matInput placeholder="用户名" [formControlName]="'username'">
          <mat-error *ngIf="loginForm.get('username').hasError('required')">用户名是必须的</mat-error>
          <mat-error *ngIf="loginForm.get('username').hasError('minlength')">用户名长度不能小于4</mat-error>
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="密码" [formControlName]="'password'" [type]="hide ? 'password' : 'text'">
          <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-error *ngIf="loginForm.get('password').hasError('required')">密码称是必须的</mat-error>
          <mat-error *ngIf="loginForm.get('password').hasError('minlength')">密码长度不能小于6</mat-error>
        </mat-form-field>
      </mat-card-content>
      <mat-error [ngClass]="'error-msg'" *ngIf="errMsg">{{errMsg}}</mat-error>
      <mat-card-actions [ngClass]="'form-action'">
        <button type="submit" color="primary" mat-raised-button [disabled]="loginForm.invalid || loading">
          <div [ngClass]="'btn-content'">
            <span>确 认 提 交</span>
            <mat-spinner [diameter]="20" *ngIf="loading"></mat-spinner>
          </div>
        </button>
      </mat-card-actions>

    </form>
  </mat-card>
</div>
